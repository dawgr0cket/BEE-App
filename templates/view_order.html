{% extends "base.html" %}
{% block title %}B.E.E - Profile{% endblock %}

{% block content %}
<style>
body {
    background-color: #FFFFEA;
}
.button {
    background-color: #04AA6D;
    border: none;
    color: white;
    padding: 8px 25px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 12px;
    margin: 4px 2px;
    cursor: pointer;
}
.profilenav {
    list-style-type: none;
    margin: 0;
    padding: 0;
    width: 15%;
    background-color: #948686;
    position: sticky;
    height: 100%;
    overflow: auto;
}

.profilenav li a {
  display: block;
  color: #000;
  padding: 40px 13px;
  text-decoration: none;
}

.profilenav li a.active {
  background-color: #302A2A;
  color: white;
}

.profilenav li a:hover:not(.active) {
  background-color: #555;
  color: white;
}
</style>
<ul class="profilenav" style="float: left;">
    <li><a href="/order_history/{{ session['username'] }}" class="active">Order History</a></li>
    <li><a href="/view_tradeins/{{ session['username'] }}" >Trade-In</a></li>
    <li><a href="/view_vouchers/{{ session['username'] }}">Vouchers</a></li>
</ul>
<div style="float: left;margin-left:5%;width:80%;background-color: #FFFFEA;">
    <h1 class="display-4">Order History</h1>
    <p>{{session['username']}}'s Order History</p>
<section class="h-100 h-custom" style="background-color: #FFFFEA;">
      <div class="col-lg-8 col-xl-6">
        <div class="card border-top border-bottom border-3" style="border-color: #f37a27 !important;">
          <div class="card-body p-5">

            <p class="lead fw-bold mb-5" style="color: #f37a27;">Purchase Reciept</p>
            <div class="mb-4">
              <p class="muted mb-1" style="font-size: 18px;">Shipping Address</p>
              <p>{% for address in addresses %}{{ address[1] }} {{ address[3] }}<br>{{ address[2] }}, {{ address[4] }} {{ address[5] }}{% endfor %}</p>
            </div>
            <div class="row">
              <div class="col mb-3">
                <p class="small text-muted mb-1">Date</p>
                <p>{{ order_details[0][4][0:10] }}</p>
              </div>
              <div class="col mb-3">
                <p class="small text-muted mb-1">Order No.</p>
                <p>#{{ orderid }}</p>
              </div>
            </div>

            <div class="mx-n5 px-5 py-4" style="background-color: #f2f2f2;">
              {% for order in order_details %}
                <div class="row">
                  <div class="col-md-8 col-lg-9">
                    <p>{{ order[2] }} x {{ order[6] }}</p>
                  </div>
                  <div class="col-md-4 col-lg-3">
                    <p>${{ order[7]*order[6] }}.00</p>
                  </div>
                </div>
              {% endfor %}
              <hr>
              <div class="row">
                <div class="col-md-8 col-lg-9">
                  <p class="mb-0">Discount</p>
                </div>
                <div class="col-md-4 col-lg-3">
                  <p class="mb-0">- ${{ discount }}.00</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-9">
                  <p class="mb-0">Shipping</p>
                </div>
                <div class="col-md-4 col-lg-3">
                  <p class="mb-0">$10.00</p>
                </div>
              </div>
            </div>

            <div class="row my-4">
              <div class="col-md-4 offset-md-8 col-lg-3 offset-lg-9">
                <p class="lead fw-bold mb-0" style="color: #f37a27;">${{ order_details[0][3] }}.00</p>
              </div>
            </div>

            <p class="lead fw-bold mb-4 pb-2" style="color: #f37a27;">Tracking Order</p>

            <div class="row">
              <div class="col-lg-12">

                <div class="horizontal-timeline">

                  <ul class="list-inline items d-flex justify-content-between">
                    <li class="list-inline-item items-list">
                      <p class="py-1 px-2 rounded text-white" style="background-color: #f37a27;">Ordered</p
                        class="py-1 px-2 rounded text-white" style="background-color: #f37a27;">
                    </li>
                    <li class="list-inline-item items-list">
                      <p class="py-1 px-2 rounded text-white" style="background-color: #f37a27;">Shipped</p
                        class="py-1 px-2 rounded text-white" style="background-color: #f37a27;">
                    </li>
                    <li class="list-inline-item items-list">
                      <p class="py-1 px-2 rounded text-white" style="background-color: #f37a27;">On the way
                      </p>
                    </li>
                    <li class="list-inline-item items-list text-end" style="margin-right: 8px;">
                      <p style="margin-right: -8px;">Delivered</p>
                    </li>
                  </ul>

                </div>

              </div>
            </div>

            <p class="mt-4 pt-2 mb-0">Want any help? <a href="#!" style="color: #f37a27;">Please contact
                us</a></p>

          </div>
        </div>
      </div>
</section>
</div>
{% endblock %}